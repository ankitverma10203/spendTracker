{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\Ankit Verma\\\\Downloads\\\\Projects\\\\spendTracker\\\\spend-tracker\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/spend-tracker-data-retriever.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/progress-spinner\";\nimport * as i4 from \"@angular/material/expansion\";\nimport * as i5 from \"../table/table.component\";\n\nfunction RecordsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelement(1, \"mat-spinner\", 3);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RecordsComponent_mat_accordion_1_mat_expansion_panel_1_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelement(1, \"app-table\", 8);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const date_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"fields\", ctx_r5.fields)(\"date\", date_r3)(\"totalAmounts\", ctx_r5.totalAmounts)(\"records\", ctx_r5.records);\n  }\n}\n\nfunction RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-expansion-panel\", 5);\n    i0.ɵɵlistener(\"opened\", function RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_opened_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const i_r4 = restoredCtx.index;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.panelOpenState[i_r4] = true;\n    })(\"closed\", function RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_closed_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const i_r4 = restoredCtx.index;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return ctx_r9.panelOpenState[i_r4] = false;\n    });\n    i0.ɵɵelementStart(1, \"mat-expansion-panel-header\")(2, \"mat-panel-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-panel-description\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, RecordsComponent_mat_accordion_1_mat_expansion_panel_1_div_6_Template, 2, 4, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const date_r3 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", date_r3, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \\u20B9 \", ctx_r2.totalAmounts[date_r3], \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.panelOpenState[i_r4] == true);\n  }\n}\n\nfunction RecordsComponent_mat_accordion_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-accordion\");\n    i0.ɵɵtemplate(1, RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template, 7, 3, \"mat-expansion-panel\", 4);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.dates);\n  }\n}\n\nexport class RecordsComponent {\n  constructor(spendTrackerDataRetrieverService) {\n    this.spendTrackerDataRetrieverService = spendTrackerDataRetrieverService;\n    this.records = '';\n    this.dates = '';\n    this.totalAmounts = '';\n    this.hasLoaded = false;\n    this.panelOpenState = [];\n  }\n\n  ngOnInit() {\n    this.getAllData();\n  }\n\n  getAllData() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.hasLoaded = false;\n      yield _this.delay(5000);\n\n      _this.getAllDates();\n\n      _this.getTrackerData();\n\n      _this.getAllTotalAmount();\n\n      _this.hasLoaded = true;\n    })();\n  }\n\n  getAllDates() {\n    this.spendTrackerDataRetrieverService.getAllDates().subscribe(details => {\n      console.log(details);\n      this.dates = details;\n      this.panelOpenState = new Array(this.dates.length).fill(false);\n    });\n  }\n\n  getTrackerData() {\n    this.spendTrackerDataRetrieverService.getSpendTrackerData().subscribe(details => {\n      console.log(details);\n      this.records = details;\n    });\n  }\n\n  getAllTotalAmount() {\n    this.spendTrackerDataRetrieverService.getAllTotalAmount().subscribe(details => {\n      console.log(details);\n      this.totalAmounts = details;\n    });\n  }\n\n  delay(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n}\n\nRecordsComponent.ɵfac = function RecordsComponent_Factory(t) {\n  return new (t || RecordsComponent)(i0.ɵɵdirectiveInject(i1.SpendTrackerDataRetrieverService));\n};\n\nRecordsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RecordsComponent,\n  selectors: [[\"app-records\"]],\n  inputs: {\n    fields: \"fields\"\n  },\n  decls: 2,\n  vars: 2,\n  consts: [[\"class\", \"spinner-container\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"spinner-container\"], [1, \"spinner\"], [\"class\", \"mat-elevation-z5\", 3, \"opened\", \"closed\", 4, \"ngFor\", \"ngForOf\"], [1, \"mat-elevation-z5\", 3, \"opened\", \"closed\"], [\"class\", \"table-container\", 4, \"ngIf\"], [1, \"table-container\"], [3, \"fields\", \"date\", \"totalAmounts\", \"records\"]],\n  template: function RecordsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, RecordsComponent_div_0_Template, 2, 0, \"div\", 0);\n      i0.ɵɵtemplate(1, RecordsComponent_mat_accordion_1_Template, 2, 1, \"mat-accordion\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.hasLoaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.hasLoaded);\n    }\n  },\n  directives: [i2.NgIf, i3.MatProgressSpinner, i4.MatAccordion, i2.NgForOf, i4.MatExpansionPanel, i4.MatExpansionPanelHeader, i4.MatExpansionPanelTitle, i4.MatExpansionPanelDescription, i5.TableComponent],\n  styles: [\".table-container[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: stretch;\\r\\n    align-content: center;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.spinner-container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.spinner[_ngcontent-%COMP%] {\\r\\n    transform: scale(0.5);\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY29yZHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG9CQUFvQjtJQUNwQixxQkFBcUI7SUFDckIsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxxQkFBcUI7QUFDekIiLCJmaWxlIjoicmVjb3Jkcy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XHJcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLnNwaW5uZXItY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zcGlubmVyIHtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMC41KTtcclxufSJdfQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/Ankit Verma/Downloads/Projects/spendTracker/spend-tracker/src/app/records/records.component.ts"],"names":["i0","i1","i2","i3","i4","i5","RecordsComponent_div_0_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","RecordsComponent_mat_accordion_1_mat_expansion_panel_1_div_6_Template","date_r3","ɵɵnextContext","$implicit","ctx_r5","ɵɵadvance","ɵɵproperty","fields","totalAmounts","records","RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template","_r8","ɵɵgetCurrentView","ɵɵlistener","RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_opened_0_listener","restoredCtx","ɵɵrestoreView","i_r4","index","ctx_r7","panelOpenState","RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_closed_0_listener","ctx_r9","ɵɵtext","ɵɵtemplate","ctx_r2","ɵɵtextInterpolate1","RecordsComponent_mat_accordion_1_Template","ctx_r1","dates","RecordsComponent","constructor","spendTrackerDataRetrieverService","hasLoaded","ngOnInit","getAllData","delay","getAllDates","getTrackerData","getAllTotalAmount","subscribe","details","console","log","Array","length","fill","getSpendTrackerData","ms","Promise","resolve","setTimeout","ɵfac","RecordsComponent_Factory","t","ɵɵdirectiveInject","SpendTrackerDataRetrieverService","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","decls","vars","consts","template","RecordsComponent_Template","directives","NgIf","MatProgressSpinner","MatAccordion","NgForOf","MatExpansionPanel","MatExpansionPanelHeader","MatExpansionPanelTitle","MatExpansionPanelDescription","TableComponent","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../service/spend-tracker-data-retriever.service\";\r\nimport * as i2 from \"@angular/common\";\r\nimport * as i3 from \"@angular/material/progress-spinner\";\r\nimport * as i4 from \"@angular/material/expansion\";\r\nimport * as i5 from \"../table/table.component\";\r\nfunction RecordsComponent_div_0_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 2);\r\n    i0.ɵɵelement(1, \"mat-spinner\", 3);\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction RecordsComponent_mat_accordion_1_mat_expansion_panel_1_div_6_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 7);\r\n    i0.ɵɵelement(1, \"app-table\", 8);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const date_r3 = i0.ɵɵnextContext().$implicit;\r\n    const ctx_r5 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"fields\", ctx_r5.fields)(\"date\", date_r3)(\"totalAmounts\", ctx_r5.totalAmounts)(\"records\", ctx_r5.records);\r\n} }\r\nfunction RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template(rf, ctx) { if (rf & 1) {\r\n    const _r8 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"mat-expansion-panel\", 5);\r\n    i0.ɵɵlistener(\"opened\", function RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_opened_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r8); const i_r4 = restoredCtx.index; const ctx_r7 = i0.ɵɵnextContext(2); return (ctx_r7.panelOpenState[i_r4] = true); })(\"closed\", function RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_closed_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r8); const i_r4 = restoredCtx.index; const ctx_r9 = i0.ɵɵnextContext(2); return (ctx_r9.panelOpenState[i_r4] = false); });\r\n    i0.ɵɵelementStart(1, \"mat-expansion-panel-header\")(2, \"mat-panel-title\");\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"mat-panel-description\");\r\n    i0.ɵɵtext(5);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵtemplate(6, RecordsComponent_mat_accordion_1_mat_expansion_panel_1_div_6_Template, 2, 4, \"div\", 6);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const date_r3 = ctx.$implicit;\r\n    const i_r4 = ctx.index;\r\n    const ctx_r2 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate1(\" \", date_r3, \" \");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" \\u20B9 \", ctx_r2.totalAmounts[date_r3], \" \");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.panelOpenState[i_r4] == true);\r\n} }\r\nfunction RecordsComponent_mat_accordion_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-accordion\");\r\n    i0.ɵɵtemplate(1, RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template, 7, 3, \"mat-expansion-panel\", 4);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.dates);\r\n} }\r\nexport class RecordsComponent {\r\n    constructor(spendTrackerDataRetrieverService) {\r\n        this.spendTrackerDataRetrieverService = spendTrackerDataRetrieverService;\r\n        this.records = '';\r\n        this.dates = '';\r\n        this.totalAmounts = '';\r\n        this.hasLoaded = false;\r\n        this.panelOpenState = [];\r\n    }\r\n    ngOnInit() {\r\n        this.getAllData();\r\n    }\r\n    async getAllData() {\r\n        this.hasLoaded = false;\r\n        await this.delay(5000);\r\n        this.getAllDates();\r\n        this.getTrackerData();\r\n        this.getAllTotalAmount();\r\n        this.hasLoaded = true;\r\n    }\r\n    getAllDates() {\r\n        this.spendTrackerDataRetrieverService.getAllDates().subscribe((details) => {\r\n            console.log(details);\r\n            this.dates = details;\r\n            this.panelOpenState = new Array(this.dates.length).fill(false);\r\n        });\r\n    }\r\n    getTrackerData() {\r\n        this.spendTrackerDataRetrieverService.getSpendTrackerData().subscribe((details) => {\r\n            console.log(details);\r\n            this.records = details;\r\n        });\r\n    }\r\n    getAllTotalAmount() {\r\n        this.spendTrackerDataRetrieverService.getAllTotalAmount().subscribe((details) => {\r\n            console.log(details);\r\n            this.totalAmounts = details;\r\n        });\r\n    }\r\n    delay(ms) {\r\n        return new Promise(resolve => setTimeout(resolve, ms));\r\n    }\r\n}\r\nRecordsComponent.ɵfac = function RecordsComponent_Factory(t) { return new (t || RecordsComponent)(i0.ɵɵdirectiveInject(i1.SpendTrackerDataRetrieverService)); };\r\nRecordsComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: RecordsComponent, selectors: [[\"app-records\"]], inputs: { fields: \"fields\" }, decls: 2, vars: 2, consts: [[\"class\", \"spinner-container\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"spinner-container\"], [1, \"spinner\"], [\"class\", \"mat-elevation-z5\", 3, \"opened\", \"closed\", 4, \"ngFor\", \"ngForOf\"], [1, \"mat-elevation-z5\", 3, \"opened\", \"closed\"], [\"class\", \"table-container\", 4, \"ngIf\"], [1, \"table-container\"], [3, \"fields\", \"date\", \"totalAmounts\", \"records\"]], template: function RecordsComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, RecordsComponent_div_0_Template, 2, 0, \"div\", 0);\r\n        i0.ɵɵtemplate(1, RecordsComponent_mat_accordion_1_Template, 2, 1, \"mat-accordion\", 1);\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.hasLoaded);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.hasLoaded);\r\n    } }, directives: [i2.NgIf, i3.MatProgressSpinner, i4.MatAccordion, i2.NgForOf, i4.MatExpansionPanel, i4.MatExpansionPanelHeader, i4.MatExpansionPanelTitle, i4.MatExpansionPanelDescription, i5.TableComponent], styles: [\".table-container[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: stretch;\\r\\n    align-content: center;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.spinner-container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.spinner[_ngcontent-%COMP%] {\\r\\n    transform: scale(0.5);\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY29yZHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG9CQUFvQjtJQUNwQixxQkFBcUI7SUFDckIsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxxQkFBcUI7QUFDekIiLCJmaWxlIjoicmVjb3Jkcy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XHJcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLnNwaW5uZXItY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zcGlubmVyIHtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMC41KTtcclxufSJdfQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}