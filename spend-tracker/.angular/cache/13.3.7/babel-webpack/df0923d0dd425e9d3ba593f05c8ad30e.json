{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\Ankit Verma\\\\Downloads\\\\Projects\\\\spendTracker\\\\spend-tracker\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/spend-tracker-data-retriever.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/progress-spinner\";\nimport * as i4 from \"@angular/material/expansion\";\nimport * as i5 from \"../table/table.component\";\n\nfunction RecordsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelement(1, \"mat-spinner\", 3);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-expansion-panel\", 5);\n    i0.ɵɵlistener(\"opened\", function RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_opened_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const i_r4 = restoredCtx.index;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return ctx_r5.panelOpenState[i_r4] = true;\n    })(\"closed\", function RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_closed_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const i_r4 = restoredCtx.index;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.panelOpenState[i_r4] = false;\n    });\n    i0.ɵɵelementStart(1, \"mat-expansion-panel-header\")(2, \"mat-panel-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-panel-description\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 6);\n    i0.ɵɵelement(7, \"app-table\", 7);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const date_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", date_r3, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \\u20B9 \", ctx_r2.totalAmounts[date_r3], \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"fields\", ctx_r2.fields)(\"date\", date_r3)(\"totalAmounts\", ctx_r2.totalAmounts)(\"records\", ctx_r2.records);\n  }\n}\n\nfunction RecordsComponent_mat_accordion_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-accordion\");\n    i0.ɵɵtemplate(1, RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template, 8, 6, \"mat-expansion-panel\", 4);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.dates);\n  }\n}\n\nexport class RecordsComponent {\n  constructor(spendTrackerDataRetrieverService) {\n    this.spendTrackerDataRetrieverService = spendTrackerDataRetrieverService;\n    this.records = '';\n    this.dates = '';\n    this.totalAmounts = '';\n    this.hasLoaded = false;\n    this.panelOpenState = [];\n  }\n\n  ngOnInit() {\n    this.getAllData();\n  }\n\n  getAllData() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.hasLoaded = false;\n      yield _this.delay(5000);\n\n      _this.getAllDates();\n\n      _this.getTrackerData();\n\n      _this.getAllTotalAmount();\n\n      _this.hasLoaded = true;\n    })();\n  }\n\n  getAllDates() {\n    this.spendTrackerDataRetrieverService.getAllDates().subscribe(details => {\n      console.log(details);\n      this.dates = details;\n      this.panelOpenState = new Array(this.dates.length).fill(false);\n    });\n  }\n\n  getTrackerData() {\n    this.spendTrackerDataRetrieverService.getSpendTrackerData().subscribe(details => {\n      console.log(details);\n      this.records = details;\n    });\n  }\n\n  getAllTotalAmount() {\n    this.spendTrackerDataRetrieverService.getAllTotalAmount().subscribe(details => {\n      console.log(details);\n      this.totalAmounts = details;\n    });\n  }\n\n  delay(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n}\n\nRecordsComponent.ɵfac = function RecordsComponent_Factory(t) {\n  return new (t || RecordsComponent)(i0.ɵɵdirectiveInject(i1.SpendTrackerDataRetrieverService));\n};\n\nRecordsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RecordsComponent,\n  selectors: [[\"app-records\"]],\n  inputs: {\n    fields: \"fields\"\n  },\n  decls: 2,\n  vars: 2,\n  consts: [[\"class\", \"spinner-container\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"spinner-container\"], [1, \"spinner\"], [\"class\", \"mat-elevation-z5\", 3, \"opened\", \"closed\", 4, \"ngFor\", \"ngForOf\"], [1, \"mat-elevation-z5\", 3, \"opened\", \"closed\"], [1, \"table-container\"], [3, \"fields\", \"date\", \"totalAmounts\", \"records\"]],\n  template: function RecordsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, RecordsComponent_div_0_Template, 2, 0, \"div\", 0);\n      i0.ɵɵtemplate(1, RecordsComponent_mat_accordion_1_Template, 2, 1, \"mat-accordion\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.hasLoaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.hasLoaded);\n    }\n  },\n  directives: [i2.NgIf, i3.MatProgressSpinner, i4.MatAccordion, i2.NgForOf, i4.MatExpansionPanel, i4.MatExpansionPanelHeader, i4.MatExpansionPanelTitle, i4.MatExpansionPanelDescription, i5.TableComponent],\n  styles: [\"table[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    margin: 2em;\\r\\n    padding: 1em;\\r\\n}\\r\\n\\r\\ntr[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.table-container[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.spinner-container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.spinner[_ngcontent-%COMP%] {\\r\\n    transform: scale(0.5);\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY29yZHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxXQUFXO0lBQ1gsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0kscUJBQXFCO0FBQ3pCIiwiZmlsZSI6InJlY29yZHMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luOiAyZW07XHJcbiAgICBwYWRkaW5nOiAxZW07XHJcbn1cclxuXHJcbnRyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLnNwaW5uZXItY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zcGlubmVyIHtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMC41KTtcclxufSJdfQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/Ankit Verma/Downloads/Projects/spendTracker/spend-tracker/src/app/records/records.component.ts"],"names":["i0","i1","i2","i3","i4","i5","RecordsComponent_div_0_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template","_r6","ɵɵgetCurrentView","ɵɵlistener","RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_opened_0_listener","restoredCtx","ɵɵrestoreView","i_r4","index","ctx_r5","ɵɵnextContext","panelOpenState","RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_closed_0_listener","ctx_r7","ɵɵtext","date_r3","$implicit","ctx_r2","ɵɵadvance","ɵɵtextInterpolate1","totalAmounts","ɵɵproperty","fields","records","RecordsComponent_mat_accordion_1_Template","ɵɵtemplate","ctx_r1","dates","RecordsComponent","constructor","spendTrackerDataRetrieverService","hasLoaded","ngOnInit","getAllData","delay","getAllDates","getTrackerData","getAllTotalAmount","subscribe","details","console","log","Array","length","fill","getSpendTrackerData","ms","Promise","resolve","setTimeout","ɵfac","RecordsComponent_Factory","t","ɵɵdirectiveInject","SpendTrackerDataRetrieverService","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","decls","vars","consts","template","RecordsComponent_Template","directives","NgIf","MatProgressSpinner","MatAccordion","NgForOf","MatExpansionPanel","MatExpansionPanelHeader","MatExpansionPanelTitle","MatExpansionPanelDescription","TableComponent","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../service/spend-tracker-data-retriever.service\";\r\nimport * as i2 from \"@angular/common\";\r\nimport * as i3 from \"@angular/material/progress-spinner\";\r\nimport * as i4 from \"@angular/material/expansion\";\r\nimport * as i5 from \"../table/table.component\";\r\nfunction RecordsComponent_div_0_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 2);\r\n    i0.ɵɵelement(1, \"mat-spinner\", 3);\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template(rf, ctx) { if (rf & 1) {\r\n    const _r6 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"mat-expansion-panel\", 5);\r\n    i0.ɵɵlistener(\"opened\", function RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_opened_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r6); const i_r4 = restoredCtx.index; const ctx_r5 = i0.ɵɵnextContext(2); return (ctx_r5.panelOpenState[i_r4] = true); })(\"closed\", function RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_closed_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r6); const i_r4 = restoredCtx.index; const ctx_r7 = i0.ɵɵnextContext(2); return (ctx_r7.panelOpenState[i_r4] = false); });\r\n    i0.ɵɵelementStart(1, \"mat-expansion-panel-header\")(2, \"mat-panel-title\");\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"mat-panel-description\");\r\n    i0.ɵɵtext(5);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(6, \"div\", 6);\r\n    i0.ɵɵelement(7, \"app-table\", 7);\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const date_r3 = ctx.$implicit;\r\n    const ctx_r2 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate1(\" \", date_r3, \" \");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" \\u20B9 \", ctx_r2.totalAmounts[date_r3], \" \");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"fields\", ctx_r2.fields)(\"date\", date_r3)(\"totalAmounts\", ctx_r2.totalAmounts)(\"records\", ctx_r2.records);\r\n} }\r\nfunction RecordsComponent_mat_accordion_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-accordion\");\r\n    i0.ɵɵtemplate(1, RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template, 8, 6, \"mat-expansion-panel\", 4);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.dates);\r\n} }\r\nexport class RecordsComponent {\r\n    constructor(spendTrackerDataRetrieverService) {\r\n        this.spendTrackerDataRetrieverService = spendTrackerDataRetrieverService;\r\n        this.records = '';\r\n        this.dates = '';\r\n        this.totalAmounts = '';\r\n        this.hasLoaded = false;\r\n        this.panelOpenState = [];\r\n    }\r\n    ngOnInit() {\r\n        this.getAllData();\r\n    }\r\n    async getAllData() {\r\n        this.hasLoaded = false;\r\n        await this.delay(5000);\r\n        this.getAllDates();\r\n        this.getTrackerData();\r\n        this.getAllTotalAmount();\r\n        this.hasLoaded = true;\r\n    }\r\n    getAllDates() {\r\n        this.spendTrackerDataRetrieverService.getAllDates().subscribe((details) => {\r\n            console.log(details);\r\n            this.dates = details;\r\n            this.panelOpenState = new Array(this.dates.length).fill(false);\r\n        });\r\n    }\r\n    getTrackerData() {\r\n        this.spendTrackerDataRetrieverService.getSpendTrackerData().subscribe((details) => {\r\n            console.log(details);\r\n            this.records = details;\r\n        });\r\n    }\r\n    getAllTotalAmount() {\r\n        this.spendTrackerDataRetrieverService.getAllTotalAmount().subscribe((details) => {\r\n            console.log(details);\r\n            this.totalAmounts = details;\r\n        });\r\n    }\r\n    delay(ms) {\r\n        return new Promise(resolve => setTimeout(resolve, ms));\r\n    }\r\n}\r\nRecordsComponent.ɵfac = function RecordsComponent_Factory(t) { return new (t || RecordsComponent)(i0.ɵɵdirectiveInject(i1.SpendTrackerDataRetrieverService)); };\r\nRecordsComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: RecordsComponent, selectors: [[\"app-records\"]], inputs: { fields: \"fields\" }, decls: 2, vars: 2, consts: [[\"class\", \"spinner-container\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"spinner-container\"], [1, \"spinner\"], [\"class\", \"mat-elevation-z5\", 3, \"opened\", \"closed\", 4, \"ngFor\", \"ngForOf\"], [1, \"mat-elevation-z5\", 3, \"opened\", \"closed\"], [1, \"table-container\"], [3, \"fields\", \"date\", \"totalAmounts\", \"records\"]], template: function RecordsComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, RecordsComponent_div_0_Template, 2, 0, \"div\", 0);\r\n        i0.ɵɵtemplate(1, RecordsComponent_mat_accordion_1_Template, 2, 1, \"mat-accordion\", 1);\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.hasLoaded);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.hasLoaded);\r\n    } }, directives: [i2.NgIf, i3.MatProgressSpinner, i4.MatAccordion, i2.NgForOf, i4.MatExpansionPanel, i4.MatExpansionPanelHeader, i4.MatExpansionPanelTitle, i4.MatExpansionPanelDescription, i5.TableComponent], styles: [\"table[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    margin: 2em;\\r\\n    padding: 1em;\\r\\n}\\r\\n\\r\\ntr[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.table-container[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.spinner-container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.spinner[_ngcontent-%COMP%] {\\r\\n    transform: scale(0.5);\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY29yZHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxXQUFXO0lBQ1gsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0kscUJBQXFCO0FBQ3pCIiwiZmlsZSI6InJlY29yZHMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luOiAyZW07XHJcbiAgICBwYWRkaW5nOiAxZW07XHJcbn1cclxuXHJcbnRyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLnNwaW5uZXItY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zcGlubmVyIHtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMC41KTtcclxufSJdfQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}