{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\Ankit Verma\\\\Downloads\\\\Projects\\\\spendTracker\\\\spend-tracker\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/spend-tracker-data-retriever.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/progress-spinner\";\nimport * as i4 from \"@angular/material/expansion\";\nimport * as i5 from \"../table/table.component\";\n\nfunction RecordsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelement(1, \"mat-spinner\", 3);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RecordsComponent_mat_accordion_1_mat_expansion_panel_1_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelement(1, \"app-table\", 8);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    const date_r3 = ctx_r6.$implicit;\n    const i_r4 = ctx_r6.index;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"fields\", ctx_r5.fields)(\"date\", date_r3)(\"totalAmounts\", ctx_r5.totalAmounts)(\"records\", ctx_r5.records)(\"dateCount\", ctx_r5.dates.length)(\"index\", i_r4);\n  }\n}\n\nfunction RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-expansion-panel\", 5);\n    i0.ɵɵlistener(\"opened\", function RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_opened_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const i_r4 = restoredCtx.index;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.panelOpenState[i_r4] = true;\n    })(\"closed\", function RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_closed_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const i_r4 = restoredCtx.index;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return ctx_r9.panelOpenState[i_r4] = false;\n    });\n    i0.ɵɵelementStart(1, \"mat-expansion-panel-header\")(2, \"mat-panel-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-panel-description\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, RecordsComponent_mat_accordion_1_mat_expansion_panel_1_div_6_Template, 2, 6, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const date_r3 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", date_r3, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \\u20B9 \", ctx_r2.totalAmounts[date_r3], \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.panelOpenState[i_r4] == true);\n  }\n}\n\nfunction RecordsComponent_mat_accordion_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-accordion\");\n    i0.ɵɵtemplate(1, RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template, 7, 3, \"mat-expansion-panel\", 4);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.dates);\n  }\n}\n\nexport class RecordsComponent {\n  constructor(spendTrackerDataRetrieverService) {\n    this.spendTrackerDataRetrieverService = spendTrackerDataRetrieverService;\n    this.records = '';\n    this.dates = '';\n    this.totalAmounts = '';\n    this.hasLoaded = false;\n    this.panelOpenState = [];\n  }\n\n  ngOnInit() {\n    this.getAllData();\n  }\n\n  getAllData() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.hasLoaded = false;\n      yield _this.delay(5000);\n\n      _this.getAllDates();\n\n      _this.getTrackerData();\n\n      _this.getAllTotalAmount();\n\n      _this.hasLoaded = true;\n    })();\n  }\n\n  getAllDates() {\n    this.spendTrackerDataRetrieverService.getAllDates().subscribe(details => {\n      console.log(details);\n      this.dates = details;\n      this.panelOpenState = new Array(this.dates.length).fill(false);\n    });\n  }\n\n  getTrackerData() {\n    this.spendTrackerDataRetrieverService.getSpendTrackerData().subscribe(details => {\n      console.log(details);\n      this.records = details;\n    });\n  }\n\n  getAllTotalAmount() {\n    this.spendTrackerDataRetrieverService.getAllTotalAmount().subscribe(details => {\n      console.log(details);\n      this.totalAmounts = details;\n    });\n  }\n\n  delay(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n}\n\nRecordsComponent.ɵfac = function RecordsComponent_Factory(t) {\n  return new (t || RecordsComponent)(i0.ɵɵdirectiveInject(i1.SpendTrackerDataRetrieverService));\n};\n\nRecordsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RecordsComponent,\n  selectors: [[\"app-records\"]],\n  inputs: {\n    fields: \"fields\"\n  },\n  decls: 2,\n  vars: 2,\n  consts: [[\"class\", \"spinner-container\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"spinner-container\"], [1, \"spinner\"], [\"class\", \"mat-elevation-z5\", 3, \"opened\", \"closed\", 4, \"ngFor\", \"ngForOf\"], [1, \"mat-elevation-z5\", 3, \"opened\", \"closed\"], [\"class\", \"table-container\", 4, \"ngIf\"], [1, \"table-container\"], [3, \"fields\", \"date\", \"totalAmounts\", \"records\", \"dateCount\", \"index\"]],\n  template: function RecordsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, RecordsComponent_div_0_Template, 2, 0, \"div\", 0);\n      i0.ɵɵtemplate(1, RecordsComponent_mat_accordion_1_Template, 2, 1, \"mat-accordion\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.hasLoaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.hasLoaded);\n    }\n  },\n  directives: [i2.NgIf, i3.MatProgressSpinner, i4.MatAccordion, i2.NgForOf, i4.MatExpansionPanel, i4.MatExpansionPanelHeader, i4.MatExpansionPanelTitle, i4.MatExpansionPanelDescription, i5.TableComponent],\n  styles: [\"table[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    margin: 2em;\\r\\n    padding: 1em;\\r\\n}\\r\\n\\r\\ntr[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.table-container[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.spinner-container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.spinner[_ngcontent-%COMP%] {\\r\\n    transform: scale(0.5);\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY29yZHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxXQUFXO0lBQ1gsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0kscUJBQXFCO0FBQ3pCIiwiZmlsZSI6InJlY29yZHMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luOiAyZW07XHJcbiAgICBwYWRkaW5nOiAxZW07XHJcbn1cclxuXHJcbnRyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLnNwaW5uZXItY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zcGlubmVyIHtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMC41KTtcclxufSJdfQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/Ankit Verma/Downloads/Projects/spendTracker/spend-tracker/src/app/records/records.component.ts"],"names":["i0","i1","i2","i3","i4","i5","RecordsComponent_div_0_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","RecordsComponent_mat_accordion_1_mat_expansion_panel_1_div_6_Template","ctx_r6","ɵɵnextContext","date_r3","$implicit","i_r4","index","ctx_r5","ɵɵadvance","ɵɵproperty","fields","totalAmounts","records","dates","length","RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template","_r8","ɵɵgetCurrentView","ɵɵlistener","RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_opened_0_listener","restoredCtx","ɵɵrestoreView","ctx_r7","panelOpenState","RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_closed_0_listener","ctx_r9","ɵɵtext","ɵɵtemplate","ctx_r2","ɵɵtextInterpolate1","RecordsComponent_mat_accordion_1_Template","ctx_r1","RecordsComponent","constructor","spendTrackerDataRetrieverService","hasLoaded","ngOnInit","getAllData","delay","getAllDates","getTrackerData","getAllTotalAmount","subscribe","details","console","log","Array","fill","getSpendTrackerData","ms","Promise","resolve","setTimeout","ɵfac","RecordsComponent_Factory","t","ɵɵdirectiveInject","SpendTrackerDataRetrieverService","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","decls","vars","consts","template","RecordsComponent_Template","directives","NgIf","MatProgressSpinner","MatAccordion","NgForOf","MatExpansionPanel","MatExpansionPanelHeader","MatExpansionPanelTitle","MatExpansionPanelDescription","TableComponent","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../service/spend-tracker-data-retriever.service\";\r\nimport * as i2 from \"@angular/common\";\r\nimport * as i3 from \"@angular/material/progress-spinner\";\r\nimport * as i4 from \"@angular/material/expansion\";\r\nimport * as i5 from \"../table/table.component\";\r\nfunction RecordsComponent_div_0_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 2);\r\n    i0.ɵɵelement(1, \"mat-spinner\", 3);\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction RecordsComponent_mat_accordion_1_mat_expansion_panel_1_div_6_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 7);\r\n    i0.ɵɵelement(1, \"app-table\", 8);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r6 = i0.ɵɵnextContext();\r\n    const date_r3 = ctx_r6.$implicit;\r\n    const i_r4 = ctx_r6.index;\r\n    const ctx_r5 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"fields\", ctx_r5.fields)(\"date\", date_r3)(\"totalAmounts\", ctx_r5.totalAmounts)(\"records\", ctx_r5.records)(\"dateCount\", ctx_r5.dates.length)(\"index\", i_r4);\r\n} }\r\nfunction RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template(rf, ctx) { if (rf & 1) {\r\n    const _r8 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"mat-expansion-panel\", 5);\r\n    i0.ɵɵlistener(\"opened\", function RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_opened_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r8); const i_r4 = restoredCtx.index; const ctx_r7 = i0.ɵɵnextContext(2); return (ctx_r7.panelOpenState[i_r4] = true); })(\"closed\", function RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template_mat_expansion_panel_closed_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r8); const i_r4 = restoredCtx.index; const ctx_r9 = i0.ɵɵnextContext(2); return (ctx_r9.panelOpenState[i_r4] = false); });\r\n    i0.ɵɵelementStart(1, \"mat-expansion-panel-header\")(2, \"mat-panel-title\");\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"mat-panel-description\");\r\n    i0.ɵɵtext(5);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵtemplate(6, RecordsComponent_mat_accordion_1_mat_expansion_panel_1_div_6_Template, 2, 6, \"div\", 6);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const date_r3 = ctx.$implicit;\r\n    const i_r4 = ctx.index;\r\n    const ctx_r2 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate1(\" \", date_r3, \" \");\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" \\u20B9 \", ctx_r2.totalAmounts[date_r3], \" \");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.panelOpenState[i_r4] == true);\r\n} }\r\nfunction RecordsComponent_mat_accordion_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-accordion\");\r\n    i0.ɵɵtemplate(1, RecordsComponent_mat_accordion_1_mat_expansion_panel_1_Template, 7, 3, \"mat-expansion-panel\", 4);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.dates);\r\n} }\r\nexport class RecordsComponent {\r\n    constructor(spendTrackerDataRetrieverService) {\r\n        this.spendTrackerDataRetrieverService = spendTrackerDataRetrieverService;\r\n        this.records = '';\r\n        this.dates = '';\r\n        this.totalAmounts = '';\r\n        this.hasLoaded = false;\r\n        this.panelOpenState = [];\r\n    }\r\n    ngOnInit() {\r\n        this.getAllData();\r\n    }\r\n    async getAllData() {\r\n        this.hasLoaded = false;\r\n        await this.delay(5000);\r\n        this.getAllDates();\r\n        this.getTrackerData();\r\n        this.getAllTotalAmount();\r\n        this.hasLoaded = true;\r\n    }\r\n    getAllDates() {\r\n        this.spendTrackerDataRetrieverService.getAllDates().subscribe((details) => {\r\n            console.log(details);\r\n            this.dates = details;\r\n            this.panelOpenState = new Array(this.dates.length).fill(false);\r\n        });\r\n    }\r\n    getTrackerData() {\r\n        this.spendTrackerDataRetrieverService.getSpendTrackerData().subscribe((details) => {\r\n            console.log(details);\r\n            this.records = details;\r\n        });\r\n    }\r\n    getAllTotalAmount() {\r\n        this.spendTrackerDataRetrieverService.getAllTotalAmount().subscribe((details) => {\r\n            console.log(details);\r\n            this.totalAmounts = details;\r\n        });\r\n    }\r\n    delay(ms) {\r\n        return new Promise(resolve => setTimeout(resolve, ms));\r\n    }\r\n}\r\nRecordsComponent.ɵfac = function RecordsComponent_Factory(t) { return new (t || RecordsComponent)(i0.ɵɵdirectiveInject(i1.SpendTrackerDataRetrieverService)); };\r\nRecordsComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: RecordsComponent, selectors: [[\"app-records\"]], inputs: { fields: \"fields\" }, decls: 2, vars: 2, consts: [[\"class\", \"spinner-container\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"spinner-container\"], [1, \"spinner\"], [\"class\", \"mat-elevation-z5\", 3, \"opened\", \"closed\", 4, \"ngFor\", \"ngForOf\"], [1, \"mat-elevation-z5\", 3, \"opened\", \"closed\"], [\"class\", \"table-container\", 4, \"ngIf\"], [1, \"table-container\"], [3, \"fields\", \"date\", \"totalAmounts\", \"records\", \"dateCount\", \"index\"]], template: function RecordsComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, RecordsComponent_div_0_Template, 2, 0, \"div\", 0);\r\n        i0.ɵɵtemplate(1, RecordsComponent_mat_accordion_1_Template, 2, 1, \"mat-accordion\", 1);\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.hasLoaded);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.hasLoaded);\r\n    } }, directives: [i2.NgIf, i3.MatProgressSpinner, i4.MatAccordion, i2.NgForOf, i4.MatExpansionPanel, i4.MatExpansionPanelHeader, i4.MatExpansionPanelTitle, i4.MatExpansionPanelDescription, i5.TableComponent], styles: [\"table[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    margin: 2em;\\r\\n    padding: 1em;\\r\\n}\\r\\n\\r\\ntr[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.table-container[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.spinner-container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.spinner[_ngcontent-%COMP%] {\\r\\n    transform: scale(0.5);\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY29yZHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxXQUFXO0lBQ1gsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0kscUJBQXFCO0FBQ3pCIiwiZmlsZSI6InJlY29yZHMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luOiAyZW07XHJcbiAgICBwYWRkaW5nOiAxZW07XHJcbn1cclxuXHJcbnRyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLnNwaW5uZXItY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zcGlubmVyIHtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMC41KTtcclxufSJdfQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}